---
import Layout from '../../layouts/Layout.astro';

import { getBlogs } from "../../library/microcms";
const response = await getBlogs({ fields: ["id", "slug", "publishedAt", "title", "eyecatch", "url"] });

function formatDate(dateString: string): string {
  const date = new Date(dateString);
  const year = date.getFullYear();
  const month = (date.getMonth() +1).toString().padStart(2, "0");
  const day = date.getDate().toString().padStart(2, "0");
  return `${year} / ${month} / ${day}`;
}
---

<Layout title="Roles" discription="test">
  <div class="mx-auto w-full max-w-[820px] pt-gutter-y">
    <ul class="grid grid-cols-1 gap-x-5 gap-y-10 sm:grid-cols-2">
      {
        response.contents.map((content: any) => (
          <li>
            <a href={content.slug}>
              <div class="mb-3">
                <img src={content.eyecatch?.url} alt="" />
              </div>
              <p class="text-sm font-medium text-neutral-500"><time data-time={content.publishedAt}>{formatDate(content.publishedAt)}</time></p>
              <h2 class="pt-1 text-lg font-medium">{content.title}</h2>
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</Layout>
